(function(){"use strict";var t={9919:function(t,e,o){var n=o(5130),a=o(3109),i=(o(4188),o(7477)),d=o(6768),l=o(4232);const r={class:"app-container"},s={class:"add-todo"},u={class:"filters"},c=["onClick"],p={class:"todo-list"};function f(t,e,o,a,i,f){const h=(0,d.g2)("el-header"),m=(0,d.g2)("ToDoItem"),k=(0,d.g2)("TodoStats"),v=(0,d.g2)("el-main"),b=(0,d.g2)("el-container");return(0,d.uX)(),(0,d.CE)("div",r,[(0,d.bF)(b,null,{default:(0,d.k6)((()=>[(0,d.bF)(h,null,{default:(0,d.k6)((()=>e[3]||(e[3]=[(0,d.Lk)("h1",null,"我的待办事项",-1)]))),_:1}),(0,d.bF)(v,null,{default:(0,d.k6)((()=>[(0,d.Lk)("div",s,[(0,d.bo)((0,d.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.newTodo=t),onKeyup:e[1]||(e[1]=(0,n.jR)(((...t)=>f.addTodo&&f.addTodo(...t)),["enter"])),placeholder:"添加新的待办事项...",class:"add-input"},null,544),[[n.Jo,i.newTodo]]),(0,d.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>f.addTodo&&f.addTodo(...t)),class:"add-button"},"添加")]),(0,d.Lk)("div",u,[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(i.filters,(t=>((0,d.uX)(),(0,d.CE)("button",{key:t.value,onClick:e=>i.currentFilter=t.value,class:(0,l.C4)([{active:i.currentFilter===t.value},"filter-btn"])},(0,l.v_)(t.label),11,c)))),128))]),(0,d.Lk)("div",p,[(0,d.bF)(n.F,{name:"list"},{default:(0,d.k6)((()=>[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(f.filteredTodos,(t=>((0,d.uX)(),(0,d.Wv)(m,{key:t.id,todo:t,onRemove:e=>f.removeTodo(t),onUpdate:f.updateTodo},null,8,["todo","onRemove","onUpdate"])))),128))])),_:1})]),(0,d.bF)(k,{todos:i.todos},null,8,["todos"])])),_:1})])),_:1})])}o(4114),o(8992),o(4520);const h={class:"todo-content"},m=["checked"],k={class:"actions"};function v(t,e,o,a,i,r){return(0,d.uX)(),(0,d.CE)("div",{class:(0,l.C4)(["todo-item",{completed:o.todo.completed,important:o.todo.important}])},[(0,d.Lk)("div",h,[(0,d.Lk)("input",{type:"checkbox",checked:o.todo.completed,onChange:e[0]||(e[0]=e=>t.$emit("update",{...o.todo,completed:!o.todo.completed})),class:"todo-checkbox"},null,40,m),i.editing?(0,d.bo)(((0,d.uX)(),(0,d.CE)("input",{key:0,"onUpdate:modelValue":e[1]||(e[1]=t=>i.editText=t),onBlur:e[2]||(e[2]=(...t)=>r.finishEdit&&r.finishEdit(...t)),onKeyup:[e[3]||(e[3]=(0,n.jR)(((...t)=>r.finishEdit&&r.finishEdit(...t)),["enter"])),e[4]||(e[4]=(0,n.jR)(((...t)=>r.cancelEdit&&r.cancelEdit(...t)),["esc"]))],ref:"editInput",class:"edit-input"},null,544)),[[n.Jo,i.editText]]):((0,d.uX)(),(0,d.CE)("span",{key:1,class:(0,l.C4)(["todo-text",{completed:o.todo.completed}])},(0,l.v_)(o.todo.text),3))]),(0,d.Lk)("div",k,[i.editing?((0,d.uX)(),(0,d.CE)("button",{key:1,onClick:e[6]||(e[6]=(...t)=>r.finishEdit&&r.finishEdit(...t)),class:"btn-save"}," ✓ ")):((0,d.uX)(),(0,d.CE)("button",{key:0,onClick:e[5]||(e[5]=(...t)=>r.startEdit&&r.startEdit(...t)),class:"btn-edit","data-tooltip":"编辑"}," ✎ ")),(0,d.Lk)("button",{onClick:e[7]||(e[7]=(...t)=>r.toggleImportant&&r.toggleImportant(...t)),class:"btn-important"},[(0,d.Lk)("span",{class:(0,l.C4)({active:o.todo.important})},"★",2)]),(0,d.Lk)("button",{onClick:e[8]||(e[8]=e=>t.$emit("remove")),class:"btn-delete","data-tooltip":"删除"}," ✕ ")])],2)}var b={props:{todo:{type:Object,required:!0}},data(){return{editing:!1,editText:""}},methods:{startEdit(){this.editing=!0,this.editText=this.todo.text,this.$nextTick((()=>{this.$refs.editInput?.focus()}))},finishEdit(){this.editText.trim()?(this.$emit("update",{...this.todo,text:this.editText.trim()}),this.editing=!1):this.$emit("remove")},cancelEdit(){this.editing=!1,this.editText=this.todo.text},toggleImportant(){this.$emit("update",{...this.todo,important:!this.todo.important})}}},g=o(1241);const y=(0,g.A)(b,[["render",v],["__scopeId","data-v-2df5804a"]]);var x=y;const C={class:"stats-container"},T={class:"card-header"},F={ref:"completionChart",style:{height:"300px"}},_={class:"stats-grid"},w={ref:"distributionChart",style:{height:"200px"}},E={ref:"trendChart",style:{height:"200px"}};function L(t,e,o,n,a,i){const l=(0,d.g2)("el-button"),r=(0,d.g2)("el-button-group"),s=(0,d.g2)("el-card"),u=(0,d.g2)("Calendar"),c=(0,d.g2)("el-icon"),p=(0,d.g2)("el-statistic"),f=(0,d.g2)("el-col"),h=(0,d.g2)("Check"),m=(0,d.g2)("Star"),k=(0,d.g2)("el-row");return(0,d.uX)(),(0,d.CE)("div",C,[(0,d.bF)(s,{class:"chart-card"},{header:(0,d.k6)((()=>[(0,d.Lk)("div",T,[e[4]||(e[4]=(0,d.Lk)("span",null,"任务完成情况",-1)),(0,d.bF)(r,null,{default:(0,d.k6)((()=>[(0,d.bF)(l,{type:"week"===n.timeRange?"primary":"",onClick:e[0]||(e[0]=t=>n.timeRange="week")},{default:(0,d.k6)((()=>e[2]||(e[2]=[(0,d.eW)("周")]))),_:1},8,["type"]),(0,d.bF)(l,{type:"month"===n.timeRange?"primary":"",onClick:e[1]||(e[1]=t=>n.timeRange="month")},{default:(0,d.k6)((()=>e[3]||(e[3]=[(0,d.eW)("月")]))),_:1},8,["type"])])),_:1})])])),default:(0,d.k6)((()=>[(0,d.Lk)("div",F,null,512)])),_:1}),(0,d.Lk)("div",_,[(0,d.bF)(s,{class:"stat-card"},{header:(0,d.k6)((()=>e[5]||(e[5]=[(0,d.Lk)("div",{class:"card-header"},[(0,d.Lk)("span",null,"任务分布")],-1)]))),default:(0,d.k6)((()=>[(0,d.Lk)("div",w,null,512)])),_:1}),(0,d.bF)(s,{class:"stat-card"},{header:(0,d.k6)((()=>e[6]||(e[6]=[(0,d.Lk)("div",{class:"card-header"},[(0,d.Lk)("span",null,"完成率趋势")],-1)]))),default:(0,d.k6)((()=>[(0,d.Lk)("div",E,null,512)])),_:1})]),(0,d.bF)(s,{class:"summary-card"},{header:(0,d.k6)((()=>e[7]||(e[7]=[(0,d.Lk)("div",{class:"card-header"},[(0,d.Lk)("span",null,"统计摘要")],-1)]))),default:(0,d.k6)((()=>[(0,d.bF)(k,{gutter:20},{default:(0,d.k6)((()=>[(0,d.bF)(f,{span:8},{default:(0,d.k6)((()=>[(0,d.bF)(p,{title:"总任务数",value:n.totalTasks},{suffix:(0,d.k6)((()=>[(0,d.bF)(c,null,{default:(0,d.k6)((()=>[(0,d.bF)(u)])),_:1})])),_:1},8,["value"])])),_:1}),(0,d.bF)(f,{span:8},{default:(0,d.k6)((()=>[(0,d.bF)(p,{title:"完成率",value:n.completionRate,precision:2,suffix:"%"},{suffix:(0,d.k6)((()=>[(0,d.bF)(c,null,{default:(0,d.k6)((()=>[(0,d.bF)(h)])),_:1})])),_:1},8,["value"])])),_:1}),(0,d.bF)(f,{span:8},{default:(0,d.k6)((()=>[(0,d.bF)(p,{title:"重要任务",value:n.importantTasks},{suffix:(0,d.k6)((()=>[(0,d.bF)(c,null,{default:(0,d.k6)((()=>[(0,d.bF)(m)])),_:1})])),_:1},8,["value"])])),_:1})])),_:1})])),_:1})])}o(3949),o(1454);var O=o(144),R=o(9671),j={components:{Calendar:i.Calendar,Check:i.Check,Star:i.Star},props:{todos:{type:Array,required:!0}},setup(t){const e=(0,O.KR)("week"),o=(0,O.KR)(null),n=(0,O.KR)(null),a=(0,O.KR)(null);let i=[];const l=t=>{const e=[],o=new Date;for(let n=t-1;n>=0;n--){const t=new Date(o);t.setDate(t.getDate()-n),e.push({date:t.toLocaleDateString(),completed:Math.floor(8*Math.random()),added:Math.floor(10*Math.random())})}return e},r=()=>{const t=R.Ts(o.value),n=l("week"===e.value?7:30),a={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["新增任务","完成任务"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:n.map((t=>t.date))},yAxis:{type:"value"},series:[{name:"新增任务",type:"bar",data:n.map((t=>t.added)),color:"#95a5a6"},{name:"完成任务",type:"bar",data:n.map((t=>t.completed)),color:"#2ecc71"}]};t.setOption(a),i.push(t)},s=()=>{const e=R.Ts(n.value),o={tooltip:{trigger:"item"},legend:{orient:"vertical",right:"5%",top:"middle"},series:[{name:"任务状态",type:"pie",radius:["40%","70%"],center:["40%","50%"],data:[{value:t.todos.filter((t=>t.completed)).length,name:"已完成"},{value:t.todos.filter((t=>!t.completed)).length,name:"待完成"},{value:t.todos.filter((t=>t.important)).length,name:"重要"}],label:{show:!0,position:"inside",formatter:"{d}%"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};e.setOption(o),i.push(e)},u=()=>{const t=R.Ts(a.value),e=l(7),o={tooltip:{trigger:"axis"},xAxis:{type:"category",data:e.map((t=>t.date))},yAxis:{type:"value",max:100,axisLabel:{formatter:"{value}%"}},series:[{data:e.map((()=>(30*Math.random()+70).toFixed(2))),type:"line",smooth:!0,areaStyle:{opacity:.3},color:"#3498db"}]};t.setOption(o),i.push(t)},c=()=>{i.forEach((t=>t.dispose())),i=[],r(),s(),u()};(0,d.sV)((()=>{c(),window.addEventListener("resize",c)})),(0,d.wB)(e,c),(0,d.wB)((()=>t.todos),c,{deep:!0});const p=(0,d.EW)((()=>t.todos.length)),f=(0,d.EW)((()=>0===t.todos.length?0:(t.todos.filter((t=>t.completed)).length/t.todos.length*100).toFixed(2))),h=(0,d.EW)((()=>t.todos.filter((t=>t.important)).length));return{timeRange:e,completionChart:o,distributionChart:n,trendChart:a,totalTasks:p,completionRate:f,importantTasks:h}}};const I=(0,g.A)(j,[["render",L],["__scopeId","data-v-3a0a2e06"]]);var S=I,X={components:{ToDoItem:x,TodoStats:S},data(){return{newTodo:"",todos:[],currentFilter:"all",filters:[{label:"全部",value:"all"},{label:"待完成",value:"active"},{label:"已完成",value:"completed"}]}},computed:{filteredTodos(){switch(this.currentFilter){case"completed":return this.todos.filter((t=>t.completed));case"active":return this.todos.filter((t=>!t.completed));default:return this.todos}},completedCount(){return this.todos.filter((t=>t.completed)).length},activeCount(){return this.todos.filter((t=>!t.completed)).length}},methods:{addTodo(){this.newTodo.trim()&&(this.todos.push({id:Date.now(),text:this.newTodo.trim(),completed:!1,important:!1}),this.newTodo="")},removeTodo(t){const e=this.todos.indexOf(t);e>-1&&this.todos.splice(e,1)},updateTodo(t){const e=this.todos.findIndex((e=>e.id===t.id));e>-1&&(this.todos[e]=t)}}};const A=(0,g.A)(X,[["render",f],["__scopeId","data-v-da18fdf4"]]);var D=A;const K=(0,n.Ef)(D);for(const[M,$]of Object.entries(i))K.component(M,$);K.use(a.A),K.mount("#app")}},e={};function o(n){var a=e[n];if(void 0!==a)return a.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports}o.m=t,function(){var t=[];o.O=function(e,n,a,i){if(!n){var d=1/0;for(u=0;u<t.length;u++){n=t[u][0],a=t[u][1],i=t[u][2];for(var l=!0,r=0;r<n.length;r++)(!1&i||d>=i)&&Object.keys(o.O).every((function(t){return o.O[t](n[r])}))?n.splice(r--,1):(l=!1,i<d&&(d=i));if(l){t.splice(u--,1);var s=a();void 0!==s&&(e=s)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,a,i]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,i,d=n[0],l=n[1],r=n[2],s=0;if(d.some((function(e){return 0!==t[e]}))){for(a in l)o.o(l,a)&&(o.m[a]=l[a]);if(r)var u=r(o)}for(e&&e(n);s<d.length;s++)i=d[s],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(u)},n=self["webpackChunkweb_lab06"]=self["webpackChunkweb_lab06"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(9919)}));n=o.O(n)})();
//# sourceMappingURL=app.b6ec8314.js.map